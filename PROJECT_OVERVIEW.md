# Ollama 本地 AI 網頁重點摘要 - 專案介紹與使用教學

## 簡介 (Introduction)

「Ollama 本地 AI 網頁重點摘要」是一款瀏覽器擴充功能，旨在幫助使用者快速理解網頁內容。它能提取網頁的主要文本，利用使用者本地部署的 Ollama AI服務（例如 Llama 3, Qwen2 等模型）產生重點摘要，並允許使用者針對網頁內容或摘要進行問答。所有 AI 處理均在本地完成，確保了資料的隱私性與自主性。

## 主要功能 (Key Features)

*   **智能內文擷取：** 自動識別並提取網頁的核心內容，有效過濾廣告、導航列等非主要資訊。
*   **本地 AI 摘要：** 與您的本地 Ollama 服務整合，使用您選擇的 AI 模型進行摘要。
*   **結構化重點呈現：**
    *   **重點列表：** 清晰展示摘要的各個主要標題。
    *   **點擊導航：** 方便地從標題跳轉至詳細說明。
    *   **原文引用：** (若AI提供) 摘要中可能包含直接引用的原文片段，以供參考。
*   **選取文字摘要：** 可針對網頁上選取的特定文字片段進行摘要。
*   **互動式問答 (Q&A)：**
    *   基於網頁內文、摘要及先前對話進行提問。
    *   AI 回答嚴格基於提供的上下文。
*   **自訂設定：** 提供多項設定，如 API 位址、模型名稱、輸出語言、摘要詳細度、側邊欄外觀等。
*   **除錯與重試：** (需開啟設定) 提供詳細錯誤訊息、除錯輔助按鈕及重試功能。
*   **資料隱私：** 所有網頁內容擷取與 AI 處理均在使用者本地完成，不依賴外部雲端服務。

## 使用教學 (Usage Guide)

### 1. 開啟側邊摘要面板

有以下幾種方式可以開啟擴充功能的側邊面板並進行摘要：

*   **點擊擴充功能圖示：**
    *   點擊瀏覽器工具列上的「Ollama 本地 AI 網頁重點摘要」圖示。
    *   若當前頁面**沒有選取任何文字**，擴充功能將自動擷取整個網頁內容進行摘要。
    *   若當前頁面**已有選取的文字**，則會針對選取的文字進行摘要。
*   **使用右鍵選單：**
    *   在網頁任一處點擊右鍵。
    *   選擇「AI 摘要（全文或選取）」選項。
    *   若**已選取文字**，則摘要選取部分；否則摘要當前頁面全文。

### 2. 閱讀摘要

*   摘要生成後，側邊面板會顯示重點標題列表和對應的詳細說明。
*   點擊列表中的任一標題，即可平滑捲動至該重點的詳細內容。
*   部分摘要可能包含直接從原文引用的片段 (以引言區塊樣式顯示)，幫助理解。
*   在摘要卡片下方，可以找到「▼ 原始文章內容」按鈕，點擊可展開/收合擷取的網頁原文。

### 3. 進行問答 (Q&A)

*   在摘要下方，您會看到一個問答輸入框。
*   輸入您想針對網頁內容、摘要或先前對話提出的問題，然後點擊「提問」按鈕或按 Enter 鍵。
*   AI 的回答會顯示在下方，並保留對話歷史。
*   AI 的回答會經過處理以提升可讀性。若AI的回應中使用了常見的文字格式（例如以減號、星號或數字開頭的列表項），這些格式會被轉換為HTML呈現。

### 4. 側邊欄操作按鈕

*   **摘要 (Summarize)：** 手動觸發對當前頁面或選取文字的摘要（與點擊擴充圖示行為類似）。
*   **全部清除 (Clear/Cancel)：** 清除側邊欄中目前的摘要、問答記錄及已展開的原始文章。若 AI 正在處理請求，此按鈕可取消該請求。
*   **關閉 (Close)：** 關閉側邊摘要面板。

### 5. 除錯按鈕 (需在設定中開啟「顯示詳細錯誤訊息」)

*   **複製摘要Prompt：** 複製用於生成當前摘要的完整提示語。
*   **複製原始回應：** 複製 AI 模型未經處理的原始 JSON 回應。
*   **複製原始內容：** 複製擴充功能從網頁擷取的原始文本。
*   **重試：** 若 AI 呼叫失敗或問答失敗，會出現重試按鈕。
*   Q&A 區域也會有類似的複製 Prompt 和複製原始回應按鈕。

## 設定說明 (Settings Guide)

您可以透過擴充功能圖示的右鍵選單選擇「設定 (Settings)」進入設定頁面。

*   **摘要詳細程度：** 設定 AI 摘要的詳細程度（精簡/中等/詳細）。
*   **Ollama API 位址：** 填寫您本地 Ollama 服務的 API 基底網址 (例如 `http://localhost:11434/api`)。
*   **AI 模型名稱：** 填寫您希望在 Ollama 中使用的模型名稱 (例如 `qwen2:7b-instruct`)，確保該模型已在本地下載。
*   **AI 輸出語言：** 指定 AI 回應內容的目標語言 (例如 `繁體中文`, `English`)。
*   **側邊欄字體大小：** 調整側邊面板中文字的相對大小。
*   **側邊欄預設寬度 (像素)：** 設定側邊欄開啟時的寬度 (建議 320px - 800px)。
*   **AI請求超時時間 (秒)：** 設定向 Ollama AI 發送請求的等待超時時間 (預設 120 秒)。
*   **顯示詳細錯誤訊息：**
    *   **開啟：** 錯誤將顯示更詳細技術資訊，摘要面板也會出現除錯輔助按鈕（如複製 Prompt/回應、重試）。
    *   **關閉：** 僅顯示簡略錯誤提示。若要了解詳細原因，建議開啟此模式。

## 技術提示 (Technical Notes)

*   **本地 Ollama：** 您必須已在電腦上成功安裝並運行 Ollama 服務，並下載了希望使用的模型。
*   **API 連線：** 擴充功能需要能成功連線到您設定的 Ollama API 位址。背景服務會定期 ping API 以嘗試保持連線。
*   **內容擷取：** 對於結構複雜或大量使用 JavaScript 動態載入內容的網頁，內文擷取效果可能有限。

## Icon

表情符號圖形來自開源專案 Twemoji，圖形版權歸 2020 Twitter, Inc. 和其他貢獻者所有。  
本圖形依據 [Creative Commons Attribution 4.0 International License (CC-BY 4.0)](https://creativecommons.org/licenses/by/4.0/) 授權使用。

